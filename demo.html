<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Call</title>
    <link rel="stylesheet" type="text/css" href="./demo.css">
</head>

<body>
    <!-- plaintext-only -->
    <div id="comment" contenteditable="true" spellcheck="false">input @</div>
    <!-- <input type="button" value="haha" class="user_name"/> -->
    <ul id="name_list">
        <li>user_1</li>
        <li>user_2</li>
        <li>user_3</li>
        <li>user_4</li>
        <li>user_5</li>
        <li>user_6</li>
        <li>user_7</li>
    </ul>
    <br>
    <div id="liar" contenteditable="true" spellcheck="false">what a fuck!!!</div>
    <!--script type="text/javascript" src="./demo.js"></script-->
    
    <script type="text/javascript" src="./AtSomeOne.js"></script>
    <script type="text/javascript">
    var opt = {
            "comment": document.getElementById("comment"),
            "tag_class": "user_name",
            "cover_number":1
        },
        me = new pengchuan(opt);
    document.getElementById("comment").addEventListener("keydown", function(e) {
        //监听shift+@
        var key_code = e.keyCode,
            shift_state = e.shiftKey;
        if (key_code == 50 && shift_state) {
            e.preventDefault();
            me.setTag();
        }
    });
    document.getElementById("comment").addEventListener("keyup", function(e) {
        var sl = pengchuan.prototype.basicFun.getSelection(),
            rg = pengchuan.prototype.basicFun.getRange(sl);
        console.log(sl);
        console.log(rg);
    });
    
    </script>
</body>

</html>
